# Usage

The program offers multiple command line arguments. `--steps`, `--algorithm`, and one
of`--num-neurons`, `--num-neurons-per-rank`, and `--file` are required, the rest is optional.

 Command                                       | Shortcut            | Effect                                                                                                                                                                      | Notes                                                                                                                             
-----------------------------------------------|---------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------
 `--steps <uint32>`                            | `-s <uint32>`       | Specifies the number of steps in the simulation                                                                                                                             |
 `--first-plasticity-step <uint32>`            |                     | Specifies the first update step in which the plasticity is updated                                                                                                          |
 `--last-plasticity-step <uint32>`             |                     | Specifies the last update step in which the plasticity is updated                                                                                                           |
 `--plasticity-update-step <uint32>`           |                     | Specifies how often the plasticity is updated (every nth step)                                                                                                              |
 `--calcium-log-step <uint32>`                 |                     | Specifies how often the calcium is logged (every nth step)                                                                                                                  |
 `--synaptic-input-log-step <uint32>`          |                     | Specifies how often the synaptic inout is logged (every nth step)                                                                                                           |
 `--network-log-step <uint32>`                 |                     | Specifies how often the network is logged (every nth step)                                                                                                                  |
 `--monitor-steps <uint32>`                    |                     | Specifies how often the neuron monitors are logged (every nth step)                                                                                                         |
 `--monitor-ensemble-steps <uint32>`           |                     | Specifies how often the ensemble monitors are logged (every nth step)                                                                                                       |
 `--interactive`                               | `-i`                | Allows an interactive run (does not stop after the number of steps is completed)                                                                                            |
 `--random-seed <unsigned int>`                | `-r <unsigned int>` | The seed for the random number  generator                                                                                                                                   |
 `--openmp <int>`                              |                     | Sets the number of OpenMP Threads                                                                                                                                           | Must be greater than 0                                                                                                            |
 `--log-path <dir-path>`                       | `-l <dir-path>`     | Specified the directory in which the log files will be created                                                                                                              |
 `--log-prefix <str>`                          | `-p <str>`          | Prefixes all log files with the given prefix                                                                                                                                |
 `--no-print-positions`                        |                     | Disables the logging of positions                                                                                                                                           |
 `--no-print-positions`                        |                     | Disables the logging of the network                                                                                                                                         |
 `--no-print-positions`                        |                     | Disables the logging of the changes in plasticity                                                                                                                           |
 `--num-neurons <uint64>`                      | `-n <uint64>`       | Starts a simulation with approximately the given number of neurons. Only works with 1 MPI rank                                                                              | Excludes `--file` and `--num-neurons-per-rank`                                                                                    |
 `--num-neurons-per-rank <uint64>`             |                     | Starts a simulation with the specified number of neurons per rank. Only works with more than 1 MPI rank                                                                     | Excludes `--file` and `--num-neurons`                                                                                             |
 `--fraction-excitatory-neurons <double>`      |                     | The fraction of excitatory neurons when placing neurons randomly                                                                                                            | Default is `1.0`, must be from `[0, 100]`. Only affects `--num-neurons` and `--num-neurons-per-rank`                              |
 `--um-per-neuron <double>`                    |                     | The expected distance between neurons in one dimension                                                                                                                      | Default is `1.0`, must be from `(0, $\infty$)`. Only affects `--num-neurons` and `--num-neurons-per-rank`                         |
 `--file <file-path>`                          | `-f <file-path>`    | Starts a simulation with the neurons from the specified file                                                                                                                | Excludes `--num-neurons` and `--num-neurons-per-rank`                                                                             
 `--graph <file-path>`                         | `-g <file-path>`    | Starts a simulation with an initial connectivity from the specified directory. Reads the files *rank\_\<MPI\_RANK\>\_{in,out}\_network.txt*                                 | Requires `--file`                                                                                                                 
 `--enable-interrupts <file-path>`             |                     | Specifies the enable interrupts for a simulation                                                                                                                            |
 `--disable-interrupts <file-path>`            |                     | Specified the disable interrupts for a simulation                                                                                                                           |
 `--creation-interrupts <file-path>`           |                     | Specified the creation interrupts for a simulation                                                                                                                          |
 `--algorithm <enum>`                          | `-a <enum>`         | Chooses the algorithm that is used to find the target neurons, can be *naive*, *barnes-hut*, *barnes-hut-inverted*, *barnes-hut-location-aware*, or *fast-multipole-method* |
 `--node-cache-type`                           |                     | Specifies the type of cache for data downloaded with RMA. Can be *combined* or *separated*                                                                                  |
 `--theta <double>`                            | `-t <double>`       | Sets the acceptance criterion for the Barnes-Hut-Algorithm                                                                                                                  | Must be from `(0, 0.5]`, requires `--algorithm barnes-hut` or `--algorithm barnes-hut-inverted`. Default is `0.3`                 
 `--kernel-type <enum>`                        |                     | Chooses the probability kernel, can be *gamma*, *gaussian*, *linear*, or *weibull*                                                                                          | Default is `gaussian`                                                                                                             
 `--gamma-k <double>`                          |                     | Specifies the shape parameter for the gamma probability kernel                                                                                                              | Default is `1.0`                                                                                                                  
 `--gamma-theta <double>`                      |                     | Specifies the scale parameter for the gamma probability kernel                                                                                                              | Default is `1.0`                                                                                                                  
 `--gaussian-sigma <double>`                   |                     | Specifies the scaling parameter for the gaussian probability kernel                                                                                                         | Default is `750.0`                                                                                                                
 `--gaussian-mu <double>`                      |                     | Specifies the offset parameter for the gaussian probability kernel                                                                                                          | Default is `0.0`                                                                                                                  
 `--linear-cutoff <double>`                    |                     | Specifies the cut-off parameter for the linear probability kernel                                                                                                           | Default is $\infty$                                                                                                               
 `--weibull-k <double>`                        |                     | Specifies the shape parameter for the weibull probability kernel                                                                                                            | Default is `1.0`                                                                                                                  
 `--weibull-b <double>`                        |                     | Specifies the scale parameter for the weibull probability kernel                                                                                                            | Default is `1.0`                                                                                                                  
 `--neuron-model <enum>`                       |                     | Chooses the neuron model, can be *poisson*, *izhikevich*, *aeif*, or *fitzhughnagumo*                                                                                       | Default is `poisson`                                                                                                              
 `--external-stimulation`                      |                     | Specifies the file with the external stimulation                                                                                                                            |
 `--background-activity`                       |                     | Specifies the type of background activity the neurons receive. Must be *null*, *constant*, *normal*, *fast-normal*, or *stimulus*                                           |
 `--base-background-activity <double>`         |                     | Specifies the base background activity by which all neurons are excited                                                                                                     | Only has an effect if the type was set to *constant*                                                                              |
 `--base-background-mean <double>`             |                     | Specifies the mean background activity by which all neurons are excited                                                                                                     | Only has an effect if the type was set to *normal* or *stimulus*                                                                  |
 `--base-background-stddev <double>`           |                     | Specifies the standard deviation of the background activity by which all neurons are excited                                                                                | Must be non-negative. Only has an effect if the type was set to *normal* or *stimulus*                                            |
 `--synapse-conductance <double>`              |                     | The activity that is transfered when a connected neuron spikes.                                                                                                             | Default is `0.03`                                                                                                                 |
 `--synapse-input-calculator-type`             |                     | Sets the type of calculator for the synaptic input.                                                                                                                         | Must be *linear* or *logarithmic*                                                                                                 
 `--calcium-decay <double>`                    |                     | The decay constant of the intercellular calcium.                                                                                                                            | Default is `10000`                                                                                                                
 `--target-calcium-first-decay-step`           |                     | Specifies the first update step in which the target calcium decays                                                                                                          |
 `--target-calcium-last-decay-step`            |                     | Specifies the last update step in which the target calcium decays                                                                                                           |
 `--target-calcium-decay-step`                 |                     | Specifies how often the target calcium decays, i.e., every nth step                                                                                                         |
 `--target-calcium-amount`                     |                     | Specifies the amount of target calcium decay                                                                                                                                |
 `--decay-type`                                |                     | Specifies the type of calcium decay                                                                                                                                         | Must be *none*, *absolute*, or *relative*                                                                                         |
 `--target-ca <double>`                        |                     | Sets the target calcium for all neurons                                                                                                                                     | Must be from `[0, 100]`. Default is `0.7`. Excludes `--file-calcium`                                                              
 `--initial-ca <double>`                       |                     | Sets the initial calcium for all neurons.                                                                                                                                   | Default is `0.0`. Excludes `--file-calcium`                                                                                       
 `--file-calcium <file-path>`                  |                     | Sets the file for the initial and target calcium values.                                                                                                                    | Excludes `--initial-ca` and `--target-ca`                                                                                         
 `--beta <double>`                             |                     | Specifies the amount of calcium ions that are gathered whenever a neuron spikes                                                                                             |
 `--integration-step-size <uint32>`            |                     | Specifies the numerical integration steps that are used for calculating the electrical activity                                                                             | Default is `10`                                                                                                                   
 `--retract-ratio <double>`                    |                     | The ratio by which vacant synapses retract.                                                                                                                                 | Default is `0.0`                                                                                                                  
 `--synaptic-elements-lower-bound <double>`    |                     | Sets the lower bound of initial synaptic elements                                                                                                                           | Must be from `[0, $\infty$)`                                                                                                      
 `--synaptic-elements-upper-bound <double>`    |                     | Sets the upper bound of initial synaptic elements                                                                                                                           | Must be from `[0, $\infty$)` and not less than the lower bound                                                                    
 `--growth-rate-axon <double>`                 |                     | Specifies the growth rate of the axons                                                                                                                                      | Must be from [0, 1]                                                                                                               
 `--growth-rate-dendrite <double>`             |                     | Specifies the growth rate of the dendrites                                                                                                                                  | Must be from [0, 1]                                                                                                               
 `--min-calcium-axons <double>`                |                     | Specified the minimum intercellular calcium for axons to grow.                                                                                                              | Default is `0.4`                                                                                                                  
 `--min-calcium-excitatory-dendrites <double>` |                     | Specified the minimum intercellular calcium for excitatory dendrites to grow.                                                                                               | Default is `0.1`                                                                                                                  
 `--min-calcium-inhibitory-dendrites <double>` |                     | Specified the minimum intercellular calcium for inhibitory dendrites to grow.                                                                                               | Default is `0.0`                                                                                                                  
 `--neuron-monitors`                           |                     | Specifies which neurons to monitor                                                                                                                                          | Format must be *\<MPI\_RANK\>:\<NEURON\_ID\>;\<MPI\_RANK\>:\<NEURON\_ID\>;...*. Can use `-1` as a rank to indicate 'on all ranks' |
 `--neuron-monitors-all`                       |                     | Specifies that all neurons shall be monitored                                                                                                                               |

### In case you have compiled the program with MPI, you can also prefix the command with: `mpiexec -n 4 ...`

However, if you do so, the number of MPI processes must be a multiple of 2.

